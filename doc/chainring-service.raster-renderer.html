<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>chainring-service.raster-renderer documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Chainring-service 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chainring-service</span></div></div></li><li class="depth-2 branch"><a href="chainring-service.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.db-interface.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db-interface</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.db-spec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db-spec</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.drawings-cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>drawings-cache</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.drawings-storage.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>drawings-storage</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.html-renderer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>html-renderer</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.http-utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-utils</span></div></a></li><li class="depth-2 branch current"><a href="chainring-service.raster-renderer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>raster-renderer</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.rest-api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rest-api</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2"><a href="chainring-service.vector-drawing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vector-drawing</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-aoid.2Bselected"><div class="inner"><span>aoid+selected</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-color-for-room-capacity"><div class="inner"><span>color-for-room-capacity</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-compute-room-color"><div class="inner"><span>compute-room-color</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-compute-room-colors"><div class="inner"><span>compute-room-colors</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-coords-in-polygon"><div class="inner"><span>coords-in-polygon</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-arc"><div class="inner"><span>draw-arc</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-boundary"><div class="inner"><span>draw-boundary</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-circle"><div class="inner"><span>draw-circle</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-entities"><div class="inner"><span>draw-entities</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-entities-from-binary-file"><div class="inner"><span>draw-entities-from-binary-file</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-grid"><div class="inner"><span>draw-grid</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-highlighted-room"><div class="inner"><span>draw-highlighted-room</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-into-image"><div class="inner"><span>draw-into-image</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-into-image-from-binary-data"><div class="inner"><span>draw-into-image-from-binary-data</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-line"><div class="inner"><span>draw-line</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-regular-room"><div class="inner"><span>draw-regular-room</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-room"><div class="inner"><span>draw-room</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-room-background"><div class="inner"><span>draw-room-background</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-room-contour"><div class="inner"><span>draw-room-contour</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-rooms"><div class="inner"><span>draw-rooms</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-rooms-from-binary"><div class="inner"><span>draw-rooms-from-binary</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-selected-room"><div class="inner"><span>draw-selected-room</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-selection-point"><div class="inner"><span>draw-selection-point</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-draw-text"><div class="inner"><span>draw-text</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-drawing-full-name"><div class="inner"><span>drawing-full-name</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-drawing-full-name-binary"><div class="inner"><span>drawing-full-name-binary</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-find-room"><div class="inner"><span>find-room</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-find-room-on-drawing"><div class="inner"><span>find-room-on-drawing</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-get-drawing-data"><div class="inner"><span>get-drawing-data</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-get-scale"><div class="inner"><span>get-scale</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-get-scale-from-scales"><div class="inner"><span>get-scale-from-scales</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-highlighted-room.3F"><div class="inner"><span>highlighted-room?</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-occupation-colors"><div class="inner"><span>occupation-colors</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-offset.2Bscale"><div class="inner"><span>offset+scale</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-perform-find-room"><div class="inner"><span>perform-find-room</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-perform-raster-drawing"><div class="inner"><span>perform-raster-drawing</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-prepare-data-stream"><div class="inner"><span>prepare-data-stream</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-proper-scale.3F"><div class="inner"><span>proper-scale?</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-raster-drawing"><div class="inner"><span>raster-drawing</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-read-drawing-from-json"><div class="inner"><span>read-drawing-from-json</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-room-type-colors"><div class="inner"><span>room-type-colors</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-selected-room.3F"><div class="inner"><span>selected-room?</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-setup-graphics-context"><div class="inner"><span>setup-graphics-context</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-transform"><div class="inner"><span>transform</span></div></a></li><li class="depth-1"><a href="chainring-service.raster-renderer.html#var-use-binary-rendering.3F"><div class="inner"><span>use-binary-rendering?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">chainring-service.raster-renderer</h2><div class="doc"><pre class="plaintext">Namespace that contains functions to render drawings into raster images.
</pre></div><div class="public anchor" id="var-aoid.2Bselected"><h3>aoid+selected</h3><div class="usage"><code>(aoid+selected rooms scale x-offset user-x-offset y-offset user-y-offset coordsx coordsy)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-color-for-room-capacity"><h3>color-for-room-capacity</h3><div class="usage"><code>(color-for-room-capacity capacity)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-compute-room-color"><h3>compute-room-color</h3><div class="usage"><code>(compute-room-color highlight-groups room)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-compute-room-colors"><h3>compute-room-colors</h3><div class="usage"><code>(compute-room-colors floor-id version highlight-groups)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-coords-in-polygon"><h3>coords-in-polygon</h3><div class="usage"><code>(coords-in-polygon xpoints ypoints coordsx coordsy)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-arc"><h3>draw-arc</h3><div class="usage"><code>(draw-arc gc entity scale x-offset y-offset user-x-offset user-y-offset)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-boundary"><h3>draw-boundary</h3><div class="usage"><code>(draw-boundary gc bounds scale x-offset y-offset user-x-offset user-y-offset boundary-color)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-circle"><h3>draw-circle</h3><div class="usage"><code>(draw-circle gc entity scale x-offset y-offset user-x-offset user-y-offset)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-entities"><h3>draw-entities</h3><div class="usage"><code>(draw-entities gc entities scale x-offset y-offset user-x-offset user-y-offset)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-entities-from-binary-file"><h3>draw-entities-from-binary-file</h3><div class="usage"><code>(draw-entities-from-binary-file gc fin entity-count scale x-offset y-offset user-x-offset user-y-offset)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-grid"><h3>draw-grid</h3><div class="usage"><code>(draw-grid gc width height grid-size grid-color)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-highlighted-room"><h3>draw-highlighted-room</h3><div class="usage"><code>(draw-highlighted-room gc xpoints ypoints aoid room-colors)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-into-image"><h3>draw-into-image</h3><div class="usage"><code>(draw-into-image image drawing-id drawing-name width height user-x-offset user-y-offset user-scale selected room-colors coordsx coordsy use-memory-cache show-grid show-boundary show-blips debug configuration)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-into-image-from-binary-data"><h3>draw-into-image-from-binary-data</h3><div class="usage"><code>(draw-into-image-from-binary-data image drawing-id drawing-name width height user-x-offset user-y-offset user-scale selected room-colors coordsx coordsy show-grid show-boundary show-blips debug configuration)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-line"><h3>draw-line</h3><div class="usage"><code>(draw-line gc entity scale x-offset y-offset user-x-offset user-y-offset)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-regular-room"><h3>draw-regular-room</h3><div class="usage"><code>(draw-regular-room gc xpoints ypoints)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-room"><h3>draw-room</h3><div class="usage"><code>(draw-room gc room scale x-offset y-offset user-x-offset user-y-offset selected room-colors)</code></div><div class="doc"><pre class="plaintext">Draw room that is passed via the 'room' parameter.
</pre></div></div><div class="public anchor" id="var-draw-room-background"><h3>draw-room-background</h3><div class="usage"><code>(draw-room-background gc xpoints ypoints background-color)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-room-contour"><h3>draw-room-contour</h3><div class="usage"><code>(draw-room-contour gc xpoints ypoints foreground-color)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-rooms"><h3>draw-rooms</h3><div class="usage"><code>(draw-rooms gc rooms scale x-offset y-offset user-x-offset user-y-offset selected room-colors)</code></div><div class="doc"><pre class="plaintext">Draw all rooms that are passed via the 'rooms' parameter.
</pre></div></div><div class="public anchor" id="var-draw-rooms-from-binary"><h3>draw-rooms-from-binary</h3><div class="usage"><code>(draw-rooms-from-binary gc fin rooms-count scale x-offset y-offset user-x-offset user-y-offset selected room-colors)</code></div><div class="doc"><pre class="plaintext">Draw rooms, data is read from the binary file.
</pre></div></div><div class="public anchor" id="var-draw-selected-room"><h3>draw-selected-room</h3><div class="usage"><code>(draw-selected-room gc xpoints ypoints)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-selection-point"><h3>draw-selection-point</h3><div class="usage"><code>(draw-selection-point gc x y blip-size blip-color)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-draw-text"><h3>draw-text</h3><div class="usage"><code>(draw-text gc entity scale x-offset y-offset user-x-offset user-y-offset)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-drawing-full-name"><h3>drawing-full-name</h3><div class="usage"><code>(drawing-full-name drawing-id drawing-name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-drawing-full-name-binary"><h3>drawing-full-name-binary</h3><div class="usage"><code>(drawing-full-name-binary drawing-id drawing-name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-find-room"><h3>find-room</h3><div class="usage"><code>(find-room drawing-id drawing-name width height user-x-offset user-y-offset user-scale coordsx coordsy use-memory-cache)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-find-room-on-drawing"><h3>find-room-on-drawing</h3><div class="usage"><code>(find-room-on-drawing request)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-drawing-data"><h3>get-drawing-data</h3><div class="usage"><code>(get-drawing-data drawing-id drawing-name use-memory-cache)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-scale"><h3>get-scale</h3><div class="usage"><code>(get-scale data width height)</code></div><div class="doc"><pre class="plaintext">Return scale set up for given width and height values.
</pre></div></div><div class="public anchor" id="var-get-scale-from-scales"><h3>get-scale-from-scales</h3><div class="usage"><code>(get-scale-from-scales scales width height)</code></div><div class="doc"><pre class="plaintext">Return scale set up for given width and height values.
</pre></div></div><div class="public anchor" id="var-highlighted-room.3F"><h3>highlighted-room?</h3><div class="usage"><code>(highlighted-room? aoid room-colors)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-occupation-colors"><h3>occupation-colors</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-offset.2Bscale"><h3>offset+scale</h3><div class="usage"><code>(offset+scale data width height user-scale)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-perform-find-room"><h3>perform-find-room</h3><div class="usage"><code>(perform-find-room request)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-perform-raster-drawing"><h3>perform-raster-drawing</h3><div class="usage"><code>(perform-raster-drawing request)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-prepare-data-stream"><h3>prepare-data-stream</h3><div class="usage"><code>(prepare-data-stream filename)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-proper-scale.3F"><h3>proper-scale?</h3><div class="usage"><code>(proper-scale? item width height)</code></div><div class="doc"><pre class="plaintext">Predicate if the given item contains expected width and height attributes.
</pre></div></div><div class="public anchor" id="var-raster-drawing"><h3>raster-drawing</h3><div class="usage"><code>(raster-drawing request)</code></div><div class="doc"><pre class="plaintext">REST API handler for the /api/raster-drawing endpoint.
</pre></div></div><div class="public anchor" id="var-read-drawing-from-json"><h3>read-drawing-from-json</h3><div class="usage"><code>(read-drawing-from-json filename)</code><code>(read-drawing-from-json filename message)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-room-type-colors"><h3>room-type-colors</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-selected-room.3F"><h3>selected-room?</h3><div class="usage"><code>(selected-room? aoid selected)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-setup-graphics-context"><h3>setup-graphics-context</h3><div class="usage"><code>(setup-graphics-context image gc width height)</code></div><div class="doc"><pre class="plaintext">Set up graphics context.
</pre></div></div><div class="public anchor" id="var-transform"><h3>transform</h3><div class="usage"><code>(transform coordinate scale offset after-offset)</code></div><div class="doc"><pre class="plaintext">Transform x or y coordinate using provided scale and offset.
</pre></div></div><div class="public anchor" id="var-use-binary-rendering.3F"><h3>use-binary-rendering?</h3><div class="usage"><code>(use-binary-rendering? use-binary? drawing-name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>