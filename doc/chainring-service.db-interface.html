<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>chainring-service.db-interface documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Chainring-service 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chainring-service</span></div></div></li><li class="depth-2 branch"><a href="chainring-service.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch current"><a href="chainring-service.db-interface.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db-interface</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.db-spec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db-spec</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.drawing-storage.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>drawing-storage</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.html-renderer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>html-renderer</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.http-utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-utils</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.raster-renderer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>raster-renderer</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.rest-api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rest-api</span></div></a></li><li class="depth-2 branch"><a href="chainring-service.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2"><a href="chainring-service.vector-renderer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vector-renderer</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="chainring-service.db-interface.html#var-get-db-status"><div class="inner"><span>get-db-status</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-get-new-user-id"><div class="inner"><span>get-new-user-id</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-get-record-count"><div class="inner"><span>get-record-count</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-all-buildings"><div class="inner"><span>read-all-buildings</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-all-drawings"><div class="inner"><span>read-all-drawings</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-all-floors"><div class="inner"><span>read-all-floors</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-building-count-for-project"><div class="inner"><span>read-building-count-for-project</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-building-info"><div class="inner"><span>read-building-info</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-building-list"><div class="inner"><span>read-building-list</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-detailed-project-info"><div class="inner"><span>read-detailed-project-info</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-drawing-count-for-floor"><div class="inner"><span>read-drawing-count-for-floor</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-drawing-info"><div class="inner"><span>read-drawing-info</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-drawing-list"><div class="inner"><span>read-drawing-list</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-floor-count-for-building"><div class="inner"><span>read-floor-count-for-building</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-floor-info"><div class="inner"><span>read-floor-info</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-floor-list"><div class="inner"><span>read-floor-list</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-project-info"><div class="inner"><span>read-project-info</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-project-list"><div class="inner"><span>read-project-list</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-project-name"><div class="inner"><span>read-project-name</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-room-list"><div class="inner"><span>read-room-list</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-sap-room-count"><div class="inner"><span>read-sap-room-count</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-read-sap-room-list"><div class="inner"><span>read-sap-room-list</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-simple-query"><div class="inner"><span>simple-query</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-simple-query-selector"><div class="inner"><span>simple-query-selector</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-simple-query-sequence"><div class="inner"><span>simple-query-sequence</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-store-drawing-raw-data"><div class="inner"><span>store-drawing-raw-data</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-store-user-settings"><div class="inner"><span>store-user-settings</span></div></a></li><li class="depth-1"><a href="chainring-service.db-interface.html#var-update-or-insert.21"><div class="inner"><span>update-or-insert!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">chainring-service.db-interface</h2><div class="doc"><pre class="plaintext">Namespace that contains interface to the database.
</pre></div><div class="public anchor" id="var-get-db-status"><h3>get-db-status</h3><div class="usage"><code>(get-db-status)</code></div><div class="doc"><pre class="plaintext">Gather status of all relevant tables in the database.
</pre></div></div><div class="public anchor" id="var-get-new-user-id"><h3>get-new-user-id</h3><div class="usage"><code>(get-new-user-id)</code></div><div class="doc"><pre class="plaintext">Generate ID for the new user.
</pre></div></div><div class="public anchor" id="var-get-record-count"><h3>get-record-count</h3><div class="usage"><code>(get-record-count table)</code></div><div class="doc"><pre class="plaintext">Basic information about selected table.
</pre></div></div><div class="public anchor" id="var-read-all-buildings"><h3>read-all-buildings</h3><div class="usage"><code>(read-all-buildings)</code></div><div class="doc"><pre class="plaintext">Read list of all buildings.
</pre></div></div><div class="public anchor" id="var-read-all-drawings"><h3>read-all-drawings</h3><div class="usage"><code>(read-all-drawings)</code></div><div class="doc"><pre class="plaintext">Read all drawings.
</pre></div></div><div class="public anchor" id="var-read-all-floors"><h3>read-all-floors</h3><div class="usage"><code>(read-all-floors)</code></div><div class="doc"><pre class="plaintext">Read list of all floors.
</pre></div></div><div class="public anchor" id="var-read-building-count-for-project"><h3>read-building-count-for-project</h3><div class="usage"><code>(read-building-count-for-project project-id)</code></div><div class="doc"><pre class="plaintext">Read number of buildings for given project ID.
</pre></div></div><div class="public anchor" id="var-read-building-info"><h3>read-building-info</h3><div class="usage"><code>(read-building-info building-id)</code></div><div class="doc"><pre class="plaintext">Read information about selected building.
</pre></div></div><div class="public anchor" id="var-read-building-list"><h3>read-building-list</h3><div class="usage"><code>(read-building-list project-id)</code></div><div class="doc"><pre class="plaintext">Read list of buildings for given project ID.
Empty sequence might be returned in case of any error or when the project has no buildings yet.</pre></div></div><div class="public anchor" id="var-read-detailed-project-info"><h3>read-detailed-project-info</h3><div class="usage"><code>(read-detailed-project-info project-id)</code></div><div class="doc"><pre class="plaintext">Read detailed project info for given project ID.
Nil is returned in case of any error.</pre></div></div><div class="public anchor" id="var-read-drawing-count-for-floor"><h3>read-drawing-count-for-floor</h3><div class="usage"><code>(read-drawing-count-for-floor floor-id)</code></div><div class="doc"><pre class="plaintext">Read number of drawings for selected floor.
</pre></div></div><div class="public anchor" id="var-read-drawing-info"><h3>read-drawing-info</h3><div class="usage"><code>(read-drawing-info drawing-id)</code></div><div class="doc"><pre class="plaintext">Read informations about selected drawing.
</pre></div></div><div class="public anchor" id="var-read-drawing-list"><h3>read-drawing-list</h3><div class="usage"><code>(read-drawing-list floor-id)</code></div><div class="doc"><pre class="plaintext">Read list of drawings for selected floor.
</pre></div></div><div class="public anchor" id="var-read-floor-count-for-building"><h3>read-floor-count-for-building</h3><div class="usage"><code>(read-floor-count-for-building building-id)</code></div><div class="doc"><pre class="plaintext">Read number of floors for selected building.
</pre></div></div><div class="public anchor" id="var-read-floor-info"><h3>read-floor-info</h3><div class="usage"><code>(read-floor-info floor-id)</code></div><div class="doc"><pre class="plaintext">Read all known informations about selected floor.
</pre></div></div><div class="public anchor" id="var-read-floor-list"><h3>read-floor-list</h3><div class="usage"><code>(read-floor-list building-id)</code></div><div class="doc"><pre class="plaintext">Read list of all floors for selected building.
</pre></div></div><div class="public anchor" id="var-read-project-info"><h3>read-project-info</h3><div class="usage"><code>(read-project-info project-id)</code></div><div class="doc"><pre class="plaintext">Read project info for given project ID.
Nil is returned in case of any error.</pre></div></div><div class="public anchor" id="var-read-project-list"><h3>read-project-list</h3><div class="usage"><code>(read-project-list)</code></div><div class="doc"><pre class="plaintext">Read list of all projects.
Empty sequence might be returned if the database is empty or broken.</pre></div></div><div class="public anchor" id="var-read-project-name"><h3>read-project-name</h3><div class="usage"><code>(read-project-name project-id)</code></div><div class="doc"><pre class="plaintext">Read project name for given project ID.
Nil is returned in case of any error.</pre></div></div><div class="public anchor" id="var-read-room-list"><h3>read-room-list</h3><div class="usage"><code>(read-room-list drawing-id)</code></div><div class="doc"><pre class="plaintext">Read list of rooms for selected drawing.
</pre></div></div><div class="public anchor" id="var-read-sap-room-count"><h3>read-sap-room-count</h3><div class="usage"><code>(read-sap-room-count floor-id version)</code></div><div class="doc"><pre class="plaintext">Read number of SAP rooms for selected floor+version
</pre></div></div><div class="public anchor" id="var-read-sap-room-list"><h3>read-sap-room-list</h3><div class="usage"><code>(read-sap-room-list floor-id version)</code></div><div class="doc"><pre class="plaintext">Read list of SAP rooms for selected floor+version
</pre></div></div><div class="public anchor" id="var-simple-query"><h3>simple-query</h3><div class="usage"><code>(simple-query query operation)</code></div><div class="doc"><pre class="plaintext">Perform a simple query from the database. Only the first result is returned.
Nil is returned when exception is thrown from the underlying code.</pre></div></div><div class="public anchor" id="var-simple-query-selector"><h3>simple-query-selector</h3><div class="usage"><code>(simple-query-selector query selector operation)</code></div><div class="doc"><pre class="plaintext">Perform a simple query from the database. Only one value from the first result is returned.
Nil is returned when exception is thrown from the underlying code.</pre></div></div><div class="public anchor" id="var-simple-query-sequence"><h3>simple-query-sequence</h3><div class="usage"><code>(simple-query-sequence query operation)</code></div><div class="doc"><pre class="plaintext">Perform a simple query from the database. Sequence of results are returned.
Empty sequence is returned when exception is thrown from the underlying code.</pre></div></div><div class="public anchor" id="var-store-drawing-raw-data"><h3>store-drawing-raw-data</h3><div class="usage"><code>(store-drawing-raw-data drawing-id raw-data)</code></div><div class="doc"><pre class="plaintext">Store drawing (raw data) into the database as BLOB.
</pre></div></div><div class="public anchor" id="var-store-user-settings"><h3>store-user-settings</h3><div class="usage"><code>(store-user-settings user-id resolution selected-room-color pen-width)</code></div><div class="doc"><pre class="plaintext">Store user settings into the database.
</pre></div></div><div class="public anchor" id="var-update-or-insert.21"><h3>update-or-insert!</h3><div class="usage"><code>(update-or-insert! database table row where-clause)</code></div><div class="doc"><pre class="plaintext">Updates columns or inserts a new row in the specified table
</pre></div></div></div></body></html>